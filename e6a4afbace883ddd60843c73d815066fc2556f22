{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3ed093f0_e5321e82",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-09-17T00:38:54Z",
      "side": 1,
      "message": "2 further questions\n\n1. How does it work when maxUsers \u003d 4, but maxRunning \u003d 16\n\n2. How well does maxRunning \u003d 16 work so far in your limited testing? i.e., any obvious issues?",
      "revId": "e6a4afbace883ddd60843c73d815066fc2556f22",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6cc6c4e9_8b3bd218",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-09-17T00:39:48Z",
      "side": 1,
      "message": "Do\u0027h I clearly didn\u0027t read the commit message.\n\n1. I\u0027m guessing you have 2-3 work profiles\n\n2. I guess that makes it fine.\n\nI believe the current default is 3 so amybe 4 is a better start.\n\nWork profiles are lightweight than users anyway.",
      "parentUuid": "3ed093f0_e5321e82",
      "revId": "e6a4afbace883ddd60843c73d815066fc2556f22",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e9b338a3_cf7be906",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2022-09-17T01:26:20Z",
      "side": 1,
      "message": "I haven\u0027t actually tested this yet so can\u0027t for-sure verify or unverify, but come to think of it, because max running users also affects users (somehow I wasn\u0027t thinking of that) and I believe is related to whether Android decides to stop backgrounded secondary users, this might not be the best way to approach this. I agree on the memory usage front, and secondary users can\u0027t be easily stopped by the user currently either, without the End Session patch.\n\nMy change here is the one I have used for a while, and it has the benefit of not impacting secondary user behavior at all: https://review.calyxos.org/c/CalyxOS/platform_frameworks_base/+/13382/1/services/core/java/com/android/server/am/UserController.java",
      "revId": "e6a4afbace883ddd60843c73d815066fc2556f22",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e92dc2e_e39c1f2c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2022-09-29T09:35:08Z",
      "side": 1,
      "message": "I think we should allow to create as many users as we feel comfortable having run simultaneously and keep that as the hard cap. We could test with whatever device we support that has the least RAM at this time and observe when things start breaking.",
      "revId": "e6a4afbace883ddd60843c73d815066fc2556f22",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28162235_815df2ca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-09-29T11:28:15Z",
      "side": 1,
      "message": "I\u0027d say sunfish might be a good target device. We also don\u0027t want to worsen the UX on the flagships.\n\nIt\u0027s mid-range and quite old by now.",
      "parentUuid": "5e92dc2e_e39c1f2c",
      "revId": "e6a4afbace883ddd60843c73d815066fc2556f22",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1e107209_f78670b6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2022-11-14T13:56:32Z",
      "side": 1,
      "message": "From external experience, it seems that unsetting the value of max-allowed-per-parent\u003d\u00272\u0027 (which effectively sets it to -1) allows to create and run an unlimited amount of managed profiles\n\nSee https://source.android.com/docs/devices/admin/custom-user-types#modify\n",
      "revId": "e6a4afbace883ddd60843c73d815066fc2556f22",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "64740f36_57b08425",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-11-14T14:23:06Z",
      "side": 1,
      "message": "I\u0027m pretty sure we\u0027ve talked about doing a custom user type before.\n\nThe linked page also lists that this is supported for upgrades which\u0027d make things easier for us.",
      "parentUuid": "1e107209_f78670b6",
      "revId": "e6a4afbace883ddd60843c73d815066fc2556f22",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b19f886b_40a419f8",
        "filename": "overlay/common/frameworks/base/core/res/res/values/config.xml",
        "patchSetId": 2
      },
      "lineNbr": 124,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-09-17T00:28:52Z",
      "side": 1,
      "message": "I actually thought we were talking about this. We should bump this first, 8 might be a good start. Maybe 16?",
      "revId": "e6a4afbace883ddd60843c73d815066fc2556f22",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a763979b_c37a8986",
        "filename": "overlay/common/frameworks/base/core/res/res/values/config.xml",
        "patchSetId": 2
      },
      "lineNbr": 127,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-09-17T00:28:52Z",
      "side": 1,
      "message": "I don\u0027t know if this will be a good idea, at least on some of the older phones / devices with less RAM.\n\nSorry for the confusion earlier.",
      "revId": "e6a4afbace883ddd60843c73d815066fc2556f22",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ]
}