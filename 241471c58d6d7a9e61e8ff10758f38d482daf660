{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "036d541f_cef51ccd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-09-25T23:34:13Z",
      "side": 1,
      "message": "Fairly sloppy proof-of-concept. Still verifying if it works.",
      "revId": "241471c58d6d7a9e61e8ff10758f38d482daf660",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f72e56de_4237a73d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-09-26T07:55:11Z",
      "side": 1,
      "message": "Compare the two things noted below between \n1. prod builds, outdated AOSP apex built inline, i.e. 4.13.0\n2. your apex changes, updated apex prebuilts\n\nand it should likely be all we need to know about signing. hopefully.",
      "revId": "241471c58d6d7a9e61e8ff10758f38d482daf660",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f85b80f7_f7cb2636",
        "filename": "scripts/release.sh",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-09-26T07:55:11Z",
      "side": 1,
      "message": "`EXTRA_RELEASETOOLS_ARGS\u003d\"-p $RELEASETOOLS_PATH -v\"` will help when debugging.",
      "revId": "241471c58d6d7a9e61e8ff10758f38d482daf660",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "85100afa_ee34b6b7",
        "filename": "scripts/release.sh",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-09-26T16:59:34Z",
      "side": 1,
      "message": "I looked at output lines filtered by `grep -i apex` and did a comparison. I *think* everything looks normal...\n\n- `Signing apk file` shows e.g. `HalfSheetUX@331910040` instead of `HalfSheetUX@TQ3A.230901.001`, as expected.\n- `signing:` lines for apex files often show `_compressed.apex` instead of `.apex`, as expected, with the rest of the line identical. `com.android.os.statsd` is similar in that it shows `com.android.os.statsd.prebuilt` instead.\n- There are now dozens of `WARNING : Failed to find com.android.something.apex in target_files; Ignored`-type lines because of the brute-force approach this change takes.\n- Some lines have different values for `--salt` which sounds normal for a salt.",
      "parentUuid": "f85b80f7_f7cb2636",
      "revId": "241471c58d6d7a9e61e8ff10758f38d482daf660",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e652f8fb_9236d5f0",
        "filename": "scripts/release.sh",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-09-26T07:55:11Z",
      "side": 1,
      "message": "Also, once this is done, look for `META/apexkeys.txt` and `META/apkkeys.txt` in the signed target-files zip.",
      "revId": "241471c58d6d7a9e61e8ff10758f38d482daf660",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d27c0790_d8a85019",
        "filename": "scripts/release.sh",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-09-26T16:59:34Z",
      "side": 1,
      "message": "Despite the releasetools output looking normal to me so far and appearing to be signing the APEXes regardless of PRESIGNED state, `META/apexkeys.txt` is showing PRESIGNED in the signed target files for the prebuilts build, e.g.\n`name\u003d\"com.android.wifi_compressed.apex\" public_key\u003d\"PRESIGNED\" private_key\u003d\"PRESIGNED\" container_certificate\u003d\"PRESIGNED\" container_private_key\u003d\"PRESIGNED\" partition\u003d\"system\"`",
      "parentUuid": "e652f8fb_9236d5f0",
      "revId": "241471c58d6d7a9e61e8ff10758f38d482daf660",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ]
}